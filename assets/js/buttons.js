var start_block_html = `
<section id="scrool_to"></section>
`

var main_html = `
<section id='war'>
<h2 style="color: #FFE4B5;"> Гражданская война на Дону</h2>
<p>
  После Октябрьского переворота Российское общество окончательно раскололось. Проигранная война, резкое и жесткое уничтожение старых порядков, всё это не могло не вызывать гнев и реакцию в офицерской среде. Такая реакция действительно возникла, причём она затрагивала не только монархически настроенных армейских элементов(Врангель, Краснов), но даже и тех кто воспринял завоевания “февраля” положительно(Деникин). Изначально коммунистическая агитация действовала в городской части страны, ну или там где количество пролетариата было высоко, крестьяне подключились позже, что определило места концентрации белых сил.
  Ситуация на дону в свою очередь была особенной. Если в большей части Империи дворяне уже постепенно избавлялись от феодальных предрассудков, то на Дону главенствующим сословием осталось казачество.
  Казаки ревностно относились к своим земельным привилегиям, но всегда были достаточно аполитичным сословием. Это в свою очередь определило их политический нейтралитет в начале ГВ. Однако как только Большевики начали передел земли и установление своих порядков(Донская Советская республика). Казаки стали восставать. Сначала они примкнули к ВВД(Всевеликое войско донское) под командованием Краснова. И только позже после создания ДА(Добровольческой армии), они примыкают к Белому движению. Южный фронт гражданской войны можно назвать самым главным. Причём в Южный фронт стоит включать ещё и Кавказ, ведь там концентрация полезных ресурсов(добываемых или легко добываемых) была крайне высокой, а следовательно и интерес к региону был высок. В свою очередь В Сибири белое движение было достаточно плохо организованно. Даже когда Колчак консолидировал власть, всё равно в Сибири было кипело слишком много сил, причем это были даже не чисто антибольшевистские силы, но и например “Антоновцы”(Тамбовские повстанцы), чехо-словацкий корпус. Это сильно ослабляло восток России. Окончательно судьба востока решилась, когда ВСЮР отказался пробиваться навстречу адмиралу.
  Юг России остался самым мощным и единым образованием белого движение. Это определило степень ожесточенности гражданской  войны на Дону. Несмотря на то что военные преступления совершали все(только Фрунзе и Дроздовский не отметились подобным), на Дону их концентрация была достаточно высокой и исходила в основном от Казаков. Силы Юга были достаточно мощны, но не многочисленны(конкретно резервов было меньше чем у красных), также многие солдаты уже давно воевали(первая мировая ещё идёт), и их боевой дух был не на самом высоком уровне. Красным явно не хватало опыта и дисциплины, но это проблема уже к 1919 году практически решилась, резервов и боевого духа большевикам хватало в избытке, и благодаря тому, что РСФСР находилась на промышленно развитых территориях то и оружия с амуницией хватало. Собственно до московского похода 1919 ВСЮР действовал достаточно успешно, и только после Орловской катастрофы, положение белых стала крайне угрожающей. Деникину мог помочь Пилсудский, но он отказался помогать наследникам империи. В 1920 Деникин отправился в отставку, и его место занял энергичный и решительный Врангель, его энергия передалась и солдатам, но ресурсы ВСЮР уже иссякли, и несколько побед на юге кубани, сменились поражениями, и осенью 1920 года Врангель начал эвакуацию белого движения из Крыма. Все Белые формирования были разбиты по частям. У Колчака был недостаток в снаряжении и солдатах, а у ВСЮР были реальные шансы на успех, на юге не было недостатка в солдатах и толковых офицерах, но политиков там было откровенно мало, и договориться ни с Антантой, ни с Поляками, ни даже с другими белыми лидерами ВСЮР не удалось.
</p>
</section>
</section>
    <section id='book'>
      <h2 style="color: #FFE4B5;"> О прототипе в романе Тихий Дон</h2>
      <div class='general_div'>
        <div class='general_photo'>
            <img align='right' id='general_photo' src='./assets/img/prototype.png'>
        </div>
        <div class='general_text'>
          <p>Прототипом Григория Мелехова многими историками и литературоведами признаётся Харлампий Васильевич Ермаков. Это казак, родился в 1891 на севере современной Ростовской области. Как любой казак был обязан служить. Поступил на службу в 1913, во время Первой мировой в Галиции, а затем на румынский фронт. Отличался большой храбростью 4-жды был награждён георгиевскими крестами и медалями. В 1916 был ранен и фактически в 1917 был демобилизован.  В 1917 воевал за революцию, но 
            После начала антибольшевистского восстания перешел на сторону казаков, воевал под Царицыным в составе Донской армии. В 1919 году вновь вернулся на сторону красных. Был в почете у маршала Будённого. В 1923 бессрочно демобилизован. Пытались расстрелять как чллена анти-большевиского востания, но был оправдан по свидетельским показаниям. Однако в 1927 году вновь был арестован. По ложным показаниям расстрелян,  в 1989 посмертно реабилитирован.</p>
        </div>
      </div>
    </section>

<section id='actions_section'>
<h2> События</h2>
<h3>I. Начальный этап</h3>
<p>Ноябрь – декабрь 1917 г. формирование протиборствующих сторон. Создание органов Советской власти (военно-революционных комитетов) при одновременном усилении антисоветских сил.</p>
<p>Декабрь 1917 г. – февраль 1918 г. противостояние войск Советской России и антисоветских сил. Первое установление Советской власти на Дону.</p>
<p>Апрель 1918 г. – восстание казаков. Свержение Советской власти на Дону.</p>
<h3>II. Казацкое сопротивление</h3>
<p>Май 1918 г. – февраль 1919 г. – Образование Всевеликого войска Донского во главе с атаманом Красновым. Походы донского казачества на Воронеж и Царицын</p>
<p>Февраль – март 1919 г. – Поражение войск Краснова. Повторное восстановление Советской власти. Проведение на Дону политики «Расказачивания».</p>
<p>Март – июнь 1919 г. – «Верхневешенское восстание» казаков против Советской власти.</p>
<h3>III. Подход регулярных сил Деникина(ВСЮР) и заключительная фаза</h3>
<p>Июнь 1919 г. – февраль 1920 г. – Вступление в Донскую область Вооруженных сил юга России во главе с А.И. Деникиным. Объединение сил казаков и белой армии против Советской власти.</p>
<p>Февраль 1920 г. – Разгром армии Деникина войсками Красной Армии. Окончательное восстановление Советской власти на Дону.</p>
<a id="actions_href" class="section_button">Перейти на страницу с событиями</a>
</section>

<section id='generals_section'>
<h2> Генералы</h2>
<a id="generals_href" class="section_button">Перейти на страницу с генералами</a>
</section>
`
var info_html = `
<section id='about_us'>
    <h2> О сайте</h2>
    <p>Не очень много текста о сайте...</p>
    <p>Не очень много текста о сайте...</p>
    <p>Не очень много текста о сайте...</p>
</section>
<section id='copirights'>
    <h2> Источники</h2>
    <p>Не очень много текста об источниках...</p>
    <p>Не очень много текста об источниках...</p>
    <p>Не очень много текста об источниках...</p>
</section>
`
/*
<section class ='general_short_info_section'>
    <img align='top' id='general_photo' src='https://upload.wikimedia.org/wikipedia/commons/1/1f/%D0%9B%D0%B5%D0%B2_%D0%94%D0%B0%D0%B2%D0%B8%D0%B4%D0%BE%D0%B2%D0%B8%D1%87_%D0%A2%D1%80%D0%BE%D1%86%D0%BA%D0%B8%D0%B9.jpg'>
    <p>Text</p>
</section>
*/
var generals_html = `
<section>
<h2 style="text-align: center">Белые Генералы<h2>
</section>
<section>
    <h3 style="color: #eeeeee91"> Главнокомандующие</h3>
    <h2 style='color: #FFE4B5;'> Антон Иванович Деникин</h2>
    <div class='general_div'>
        <div class='general_photo'>
            <img align='right' id='general_photo' src='./assets/img/generals/Denikin.jpg'>
        </div>
        <div class='general_text'>
            <p>Родился в 1872 под Варшавой, в семье разночинцев(что отличало его от других членов высшего командного состава белой армии). В 1892 поступил в Киевское пехотное юнкерское училище получил звание лейтенанта. До Р-Я войны служил в разных частях штабным офицером. Во время Р-Я войны воевал в Маньчжурии, дослужился до звания полковника. В 1914 году в звании Генерал-лейтенанта принял командования “Железной дивизии”. Действовал крайне удачно. В 1916 году спасал Румынию от разгрома. Революцию 1917 года поддержал, однако был разочарован новыми властями России, после провала заговора Корнилова был арестова, но смог бежать во время октябрьской революции, и примкнул к Корнилову, после его смерти возглавил добровольческую армию. В 1919 году добровольческая армия Корнилова и Донские силы объединились в ВСЮР. Благодаря его(и других белых генералов) умелому командованию удалось добиться максимального приближения к Москве. Однако несмотря на военную гениальность, он не сумел удержать тыл стабильным, что привело к разгрому интендантства и отступление назад к Дону. Разлагающаяся армия, популярность Деникина, а также провал эвакуации из Новороссийска, привели к тому, что Деникин передал ВСЮР Врангелю, а сам Эмигрировал в Англию. Помогал эмигрантам, и один из немногих деятелей белого движения, кто наотрез отказался помогать нацистам, во времена ВОВ.</p>
        </div>
    </div>
    <h2 style='color: #FFE4B5;'> Врангель Пётр Николаевич</h2>
    <div class='general_div'>
        <div class='general_photo'>
            <img align='right' id='general_photo' src='https://upload.wikimedia.org/wikipedia/commons/e/e3/Pyotr_Wrangel%2C_portrait_medium.jpg'>
        </div>
        <div class='general_text'>
            <p>Родился 1878 в знатном и старинном прибалтийском дворянском роде, ведущим свою историю с XIII века. В 1901 году был призван в РИА в Гвардейский конный полк. В 1902 получил офицерский чин, однако его поведение оставляло желать лучшего, так что он был вынужден оставить службу. В 1905 году с началом русско-японской добровольно поступил на службу, теперь в казачий полк Маньчжурской армии. Воевал храбро и умело, что определило его служебный рост. Во время 1-ой революции оставался верен короне за что был вознагражден благосклонностью Императора. 
            В 1913 Стал командующим эскадрона Его Величества.К 1917 уже был Генерал-майором, крайне отрицательно отнесся к Февральской революции.Пытался выступить против республиканской власти, однако восстание Корнилова провалилось. После “октября” спасся от революционных властей и в 1918 году прибыл в Екатеринодар к Деникину. Был крайне активным и грамотным командиром, его успехи на Кубани принесли ему звание генерал-лейтенанта, а самое главное ,что он вдохновил Деникина на московский поход, однако после его провала их отношения испортились. Неоднородность белого движения было на руку Врангелю, в 1920 году недовольство Деникиным достигло предела, и Врангель возглавил ВСЮР. Однако он лишь отсрочил начало конца белого движения. После эвакуации из крыма активно помогал деятельности РОВС.</p>
        </div>
    </div>
</section>
<section>
    <h3 style="color: #eeeeee91"> Другие Генералы</h3>
    <div class='short_general_div'>
        <div class='short_general_photo'>
            <img align='right' id='short_general_photo' src='./assets/img/generals/PolcovnikDrozdovskiy.jpg'>
        </div>
        <div class='short_general_text'>
            <h3 style='text-align: right; padding-bottom: 2%'>Дроздовский Михаил Гордеевич</h3>
            <p>1 параграф о дроздовском</p>
            <p>2 параграф о нем же</p>
        </div>
    </div>
    <div class='short_general_div'>
        <div class='short_general_photo'>
            <img align='right' id='short_general_photo' src='./assets/img/generals/Bogaevsky.jpg'>
        </div>
        <div class='short_general_text'>
            <h3 style='text-align: right; padding-bottom: 2%'>Богаевский Африкан Петрович</h3>
            <p>1 параграф о богаевском</p>
            <p>2 параграф о нем же</p>
        </div>
    </div>
    <div class='short_general_div'>
        <div class='short_general_photo'>
            <img align='right' id='short_general_photo' src='./assets/img/generals/Markov.jpg'>
        </div>
        <div class='short_general_text'>
            <h3 style='text-align: right; padding-bottom: 2%'>Марков Сергей Леонидович</h3>
            <p>1 параграф о Маркове</p>
            <p>2 параграф о нем же</p>
        </div>
    </div>
    <div class='short_general_div'>
        <div class='short_general_photo'>
            <img align='right' id='short_general_photo' src='./assets/img/generals/Krasnov.jpg'>
        </div>
        <div class='short_general_text'>
            <h3 style='text-align: right; padding-bottom: 2%'>Краснов Пётр Николаевич</h3>
            <p>1 параграф о Краснове</p>
            <p>2 параграф о нем же</p>
        </div>
    </div>
</section>
<section>
<h2 style="text-align: center">Красные Генералы<h2>
</section>
<section>
    <h3 style="color: #eeeeee91"> Главнокомандующие</h3>
    <h2 style='color: #FFE4B5;'> Егоров Александр Ильич</h2>
    <div class='general_div'>
        <div class='general_photo'>
            <img align='right' id='general_photo' src='./assets/img/generals/Egorov.jpg'>
        </div>
        <div class='general_text'>
            <p>Родился 1883 близ Самары в Бузулуке. Добровольно вступил в РИА. Во время первой мировой уже имел звание капитана, был несколько раз ранен. к 1917 имел звание подполковника, в те годы(и ранее с 1903) был эссером в 1917 вступил в партию официально. В 1918 был одним из создателей РККА.
            В 1919 году по командовал 10 и 14 армиями на южном фронте гражданской войны, эти соединения были необученными не регулярными частями. Не смотря на весьма скромные успехи он обладал отличными тактическими способностями, что было ценно при большой нехватки профессионалов в РККА.С октября 1919-январь 1920 занимал пост командующего всем Южным фронтом, в 1920 году когда поражение белого движение уже было неизбежно его отправили на Советско-Польскую войну.
            В 1935 становиться Маршалом СССР
            В 1938 Оговорил себя и был осуждён за шпионаж в пользу польши и заговору, был расстрелян
            в 1956 реабилитирован.
            </p>
        </div>
    </div>
    <h2 style='color: #FFE4B5;'> Фрунзе Михаил Васильевич</h2>
    <div class='general_div'>
        <div class='general_photo'>
            <img align='right' id='general_photo' src='./assets/img/generals/Frunze.jpg'>
        </div>
        <div class='general_text'>
            <p>Родился в 1885 году в Бишкеке. Был отличным учеником, поступил в столичный университет на экономиста. В институте и сложились его революционные левые взгляды.В 1904 вступил в РСДРП.Во время революции 1905 активно участвовал в свержении самодержавия, был ранен во время“Кровавого воскресенья”. Участвовал в вооруженном восстании в Москве на Пресне. На IV съезде РСДРП познакомился с В.И.Лениным.Участвовал и в террористической деятельности. В 1907 году был приговорён к смертной казни, однако приговор был смягчён, и его отправили на каторгу. В 1916 году сбежал, и добрался до европейской части России. Там он попал на фронт, активно агитировал солдат. В 1917 активно участвовал в революции, и руководил Минской ячейкой РСДРП. После октября Фрунзе стал активным строителем нового советского гос-ва.Он не имел профессионального военного образования, однако компенсировал это собрав вокруг себя целую плеяду военспецов. Также крайне активно изучал военную литературу. В 1919 успешно разгромил Колчака и выбил его в Сибирь, также очистил Среднюю азию. В 1920 Году Положение ВСЮР в Крыму было пиковым, а Егоров был нужен для противостояния полякам, его должность занял Фрунзе. Он успешно разбил и Врангеля. 
            В 1925 стал главой советской армии, проводил военную реформу.М.В.Фрунзе умер 31 октября 1925. Он был одним из самых талантливых и не жестоким военачальников РККА, держался в стороне от партийной борьбы.
            </p>
        </div>
    </div>
</section>
<section>
    <h3 style="color: #eeeeee91"> Другие Генералы</h3>
    <div class='short_general_div'>
        <div class='short_general_photo'>
            <img align='right' id='short_general_photo' src='./assets/img/generals/Mironov-Filipp-Kuzmich.jpg'>
        </div>
        <div class='short_general_text'>
            <h3 style='text-align: right; padding-bottom: 2%'>Миронов Филипп Кузьмич</h3>
            <p>1 параграф о Миронове</p>
            <p>2 параграф о нем же</p>
        </div>
    </div>
    <div class='short_general_div'>
        <div class='short_general_photo'>
            <img align='right' id='short_general_photo' src='./assets/img/generals/Kamenev.jpg'>
        </div>
        <div class='short_general_text'>
            <h3 style='text-align: right; padding-bottom: 2%'>Каменев Сергей Сергеевич</h3>
            <p>1 параграф о Каменеве</p>
            <p>2 параграф о нем же</p>
        </div>
    </div>
    <div class='short_general_div'>
        <div class='short_general_photo'>
            <img align='right' id='short_general_photo' src='./assets/img/generals/Budeniy.jpg'>
        </div>
        <div class='short_general_text'>
            <h3 style='text-align: right; padding-bottom: 2%'>Будённый Семён Михайлович</h3>
            <p>1 параграф о Маркове</p>
            <p>2 параграф о нем же</p>
        </div>
    </div>
    </div>
</section>
`
var actions_html = `
<section class="action_section">
    <h2 style='text-align: center'> Бои за установление Советской власти на Дону</h2>
    <div class='action_div'>
        <div class='history_action'>
            <h4 style="color: #eeeeee91; padding-bottom: 2%; text-align: center; margin-top: -3%;"> В истории</h4>
            <p>Не очень много текста о собитие 1 в романе...Не очень много текста о собитие 1 в романе...</p>
            <p>Не очень много текста о собитие 1...</p>
            <p>Не очень много текста о собитие 1...</p>
        </div>
        <div class='map_action'>
            <p class="action_map">тут будет карта</p>
        </div>
        <div class='literature_action'>
            <h4 style="color: #eeeeee91; padding-bottom: 2%; text-align: center; margin-top: -3%;"> В романе</h4>
            <p>Части Донревкома отхлынули и наводнили Глубокую. Командование всеми силами по существу перешло к Голубову. Он в течение неполных двух дней скомпоновал раздерганные части, принял надлежащие меры к закреплению за собой Глубокой. Мелехов Григорий командовал, по настоянию его, дивизионом из двух сотен 2-го запасного полка и одной сотни атаманцев.</p>
        </div>
    </div>
</section>
<section class="action_section">
    <h2 style='text-align: center'> Событие</h2>
    <div class='action_div'>
        <div class='history_action'>
            <h4 style="color: #eeeeee91; padding-bottom: 2%; text-align: center; margin-top: -3%;"> В истории</h4>
            <p>Не очень много текста о собитие...
            Не очень много текста о собитие...
            Не очень много текста о собитие...</p>
        </div>
        <div class='map_action'>
            <p class="action_map">тут будет карта</p>
        </div>
        <div class='literature_action'>
            <h4 style="color: #eeeeee91; padding-bottom: 2%; text-align: center; margin-top: -3%;"> В романе</h4>
            <p>Не очень много текста о собитие...
            Не очень много текста о собитие...
            Не очень много текста о собитие...</p>
        </div>
    </div>
</section>
`

var y1917_html = `
<section class="map_section" id='main_map'>
      <h2> Карта событий</h2>
      <div class="interactive_map">
        <div class="map_img" id="map1917"><object class="arrows_svg" id="arrows_svg_1917" data="./assets/img/test_year_map.svg" type="image/svg+xml"></object></div>
        <div class="map_years_box">
          <!-- <a class="interactive_map_year_button_active" id='main_1917'>1917</a> -->
          <a class="interactive_map_year_button" id='main_1918'>1918</a>
          <a class="interactive_map_year_button" id='main_1919'>1919</a>
          <a class="interactive_map_year_button" id='main_1920'>1920</a>
        </div>
      </div>
</section>
`

var y1918_html = `
<section class="map_section" id='main_map'>
      <h2> Карта событий</h2>
      <div class="interactive_map">
        <div class="map_img" id="map1917"><object class="arrows_svg" id="arrows_svg_1917" data="./assets/img/test_year_map.svg" type="image/svg+xml"></object></div>
        <div class="map_years_box">
          <!-- <a class="interactive_map_year_button" id='main_1917'>1917</a> -->
          <a class="interactive_map_year_button_active" id='main_1918'>1918</a>
          <a class="interactive_map_year_button" id='main_1919'>1919</a>
          <a class="interactive_map_year_button" id='main_1920'>1920</a>
        </div>
      </div>
</section>
`

var y1919_html = `
<section class="map_section" id='main_map'>
      <h2> Карта событий</h2>
      <div class="interactive_map">
        <div class="map_img" id="map1919"></div>
        <div class="map_years_box">
          <!-- <a class="interactive_map_year_button" id='main_1917'>1917</a> -->
          <a class="interactive_map_year_button" id='main_1918'>1918</a>
          <a class="interactive_map_year_button_active" id='main_1919'>1919</a>
          <a class="interactive_map_year_button" id='main_1920'>1920</a>
        </div>
      </div>
</section>
`

var y1920_html = `
<section class="map_section" id='main_map'>
      <h2> Карта событий</h2>
      <div class="interactive_map">
        <div class="map_img" id="map1920"></div>
        <div class="map_years_box">
          <!-- <a class="interactive_map_year_button" id='main_1917'>1917</a> -->
          <a class="interactive_map_year_button" id='main_1918'>1918</a>
          <a class="interactive_map_year_button" id='main_1919'>1919</a>
          <a class="interactive_map_year_button_active" id='main_1920'>1920</a>
        </div>
      </div>
</section>
`

var cur_year = y1918_html;

function hasClass(elem, className) {
    return elem.classList.contains(className);
}

function hasId(element) {
    res = typeof element.id != 'undefined';
    console.log(res);
    return res;
}


function load_info() {
    document.getElementById("wr").innerHTML = start_block_html + info_html;
    document.getElementById("scrool_to").scrollIntoView();
    button = document.getElementsByClassName("header_button_active")[0]
    button.classList.add("header_button")
    button.classList.remove("header_button_active")
    f_button = document.getElementById("info")
    f_button.classList.add("header_button_active")
    f_button.classList.remove("header_button")
};

function load_actions() {
    document.getElementById("wr").innerHTML = start_block_html + actions_html;
    document.getElementById("scrool_to").scrollIntoView();
    button = document.getElementsByClassName("header_button_active")[0]
    button.classList.add("header_button")
    button.classList.remove("header_button_active")
    f_button = document.getElementById("actions")
    f_button.classList.add("header_button_active")
    f_button.classList.remove("header_button")
};

function load_generals() {
    document.getElementById("wr").innerHTML = start_block_html + generals_html;
    document.getElementById("scrool_to").scrollIntoView();
    button = document.getElementsByClassName("header_button_active")[0]
    button.classList.add("header_button")
    button.classList.remove("header_button_active")
    f_button = document.getElementById("generals")
    f_button.classList.add("header_button_active")
    f_button.classList.remove("header_button")
};

function load_main() {
    old_c = document.getElementById("wr");
    new_c = document.createElement("div");
    new_c.classList.add('wrapper');
    new_c.id = 'wr';
    new_c.innerHTML = start_block_html + cur_year + main_html;
    document.getElementById("main_body").replaceChild(new_c, old_c);
    document.getElementById("scrool_to").scrollIntoView();
    button = document.getElementsByClassName("header_button_active")[0];
    button.classList.add("header_button");
    button.classList.remove("header_button_active");
    f_button = document.getElementById("home");
    f_button.classList.add("header_button_active");
    f_button.classList.remove("header_button");
    // setup_svg_listener();
};



function load_map(element, year) {
    let old_active = document.getElementsByClassName("interactive_map_year_button_active")[0];
    old_active.classList.add("interactive_map_year_button");
    old_active.classList.remove("interactive_map_year_button_active")
    element.classList.add("interactive_map_year_button_active");
    element.classList.remove("interactive_map_year_button");
    cur_year = year;
    $('#wr').html(start_block_html + cur_year + main_html);
    document.getElementById("scrool_to").scrollIntoView();
    // setup_svg_listener();
};


// buttons listener

document.addEventListener('click', function (e) {
    // nav buttons
    if (e.target.id == 'info') {
        console.log('clicked btn with id info')
        load_info();
    } else if (e.target.id == 'home') {
        load_main();
    } else if (e.target.id == 'actions') {
        load_actions();
    } else if (e.target.id == 'generals') {
        load_generals();
    }
    // section href buttons
    else if (e.target.id == 'actions_href') {
        load_actions();
    } else if (e.target.id == 'generals_href') {
        load_generals();
    //}
    // map year buttons
    //else if (e.target.id == 'main_1917') {
    //    load_map(e.target, y1917_html);
    } else if (e.target.id == 'main_1918') {
        load_map(e.target, y1918_html);
    } else if (e.target.id == 'main_1919') {
        load_map(e.target, y1919_html);
    } else if (e.target.id == 'main_1920') {
        load_map(e.target, y1920_html);
    }
    // map_arrows
    else if (e.target.id == 'arrows_svg_1917') {
        alert('arr')
    }
}, false);

/*document.addEventListener('mouseenter', function(e) {
    if (e.target.id == "arrow_1917_1"){
        alert(1)
        var svg = document.getElementById("arrows_svg_1917");
        var svgDoc = svg.contentDocument;
        var arrow = svgDoc.getElementById("arrow_1917_1");
        var color = arrow.style.fill
    }
}, false);*/

// setup_svg_listener();

function restart_script(){
    var div = this.parent.document.querySelector('#script_div');
    var script = div.querySelector('#buttons_script');
    console.log(div, script)
    div.removeChild(script);
    div.innerHTML += "<script id='buttons_script' src='assets/js/buttons.js'></script>"
};

function setup_svg_listener(){
        

        //alert("Document loaded, including graphics and embedded documents (like SVG)");
        var a1917 = document.querySelector('#arrows_svg_1917') //document.getElementById("arrows_svg_1917");
        console.log(a1917.contentDocument, a1917.contentWindow)
        var a1918 = document.getElementById("arrows_svg_1918");
        var a1919 = document.getElementById("arrows_svg_1919");
        var a1920 = document.getElementById("arrows_svg_1920");
    
        //get the inner DOM of alpha.svg
        try {
            var svgDoc = a1917.contentDocument;
            var ar1917_1 = svgDoc.getElementById("arrow_1917_1");
            var c1917_1 = ar1917_1.style.fill
            var ar1917_2 = svgDoc.getElementById("arrow_1917_2");
            var c1917_2 = ar1917_2.style.fill
            var ar1917_3 = svgDoc.getElementById("arrow_1917_3");
            var c1917_3 = ar1917_3.style.fill
            ar1917_1.addEventListener("mousedown", function(){arrow_pressed('1917_1')}, false);
            ar1917_1.addEventListener("mouseenter", function(){select_arrow(svgDoc, 'arrow_1917_1_path')}, false);
            ar1917_1.addEventListener("mouseleave", function(){deselect_arrow(svgDoc, 'arrow_1917_1_path', c1917_1)}, false);
            ar1917_2.addEventListener("mousedown", function(){arrow_pressed('1917_2')}, false);
            ar1917_2.addEventListener("mouseenter", function(){select_arrow(svgDoc, 'arrow_1917_2_path')}, false);
            ar1917_2.addEventListener("mouseleave", function(){deselect_arrow(svgDoc, 'arrow_1917_2_path', c1917_2)}, false);
            ar1917_3.addEventListener("mousedown", function(){arrow_pressed('1917_3')}, false);
            ar1917_3.addEventListener("mouseenter", function(){select_arrow(svgDoc, 'arrow_1917_3_path')}, false);
            ar1917_3.addEventListener("mouseleave", function(){deselect_arrow(svgDoc, 'arrow_1917_3_path', c1917_3)}, false);
        } finally {}
};

var select_color = '#00ADB5';

function select_arrow(doc, className) {
    doc.getElementsByClassName(className)[0].style.fill = select_color;
}

function deselect_arrow(doc, className, color) {
    doc.getElementsByClassName(className)[0].style.fill = color;
}

function arrow_pressed(ar_num){
    alert(ar_num + ' pressed');
}
